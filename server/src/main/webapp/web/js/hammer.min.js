/*
 * Hammer.JS
 * version 0.6.1
 * author: Eight Media
 * https://github.com/EightMedia/hammer.js
 */
function Hammer(l,r,j){var g=this;var x={prevent_default:false,css_hacks:true,cancel_event:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500};r=A(x,r);(function(){if(!r.css_hacks){return false;}var P=["webkit","moz","ms","o",""];var M={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var O="";for(var L=0;L<P.length;L++){for(var N in M){O=N;if(P[L]){O=P[L]+O.substring(0,1).toUpperCase()+O.substring(1);}l.style[O]=M[N];}}})();var G=0;var q=0;var H=0;var v={};var I=0;var i=false;var e=null;var d=null;var p=null;var z={x:0,y:0};var b=null;var y=null;var J={};var a=false;var h;var c;var w;var E=("ontouchstart" in window);this.option=function(L,M){if(M!=j){r[L]=M;}return r[L];};this.getDirectionFromAngle=function(N){var O={down:N>=45&&N<135,left:N>=135||N<=-135,up:N<-45&&N>-135,right:N>=-45&&N<=45};var M,L;for(L in O){if(O[L]){M=L;break;}}return M;};function s(L){return L.touches?L.touches.length:1;}function K(O){O=O||window.event;if(!E){var Q=document,M=Q.body;return[{x:O.pageX||O.clientX+(Q&&Q.scrollLeft||M&&M.scrollLeft||0)-(Q&&Q.clientLeft||M&&Q.clientLeft||0),y:O.pageY||O.clientY+(Q&&Q.scrollTop||M&&M.scrollTop||0)-(Q&&Q.clientTop||M&&Q.clientTop||0)}];}else{var S=[],R,P=O.touches.length>0?O.touches:O.changedTouches;for(var N=0,L=P.length;N<L;N++){R=P[N];S.push({x:R.pageX,y:R.pageY});}return S;}}function m(M,L){return Math.atan2(L.y-M.y,L.x-M.x)*180/Math.PI;}function n(M,N){if(M.length==2&&N.length==2){var L,Q;L=M[0].x-M[1].x;Q=M[0].y-M[1].y;var O=Math.sqrt((L*L)+(Q*Q));L=N[0].x-N[1].x;Q=N[0].y-N[1].y;var P=Math.sqrt((L*L)+(Q*Q));return P/O;}return 0;}function k(N,O){if(N.length==2&&O.length==2){var M,Q;M=N[0].x-N[1].x;Q=N[0].y-N[1].y;var P=Math.atan2(Q,M)*180/Math.PI;M=O[0].x-O[1].x;Q=O[0].y-O[1].y;var L=Math.atan2(Q,M)*180/Math.PI;return L-P;}return 0;}function F(L,M){M.touches=K(M.originalEvent);M.type=L;if(o(g["on"+L])){g["on"+L].call(g,M);}}function B(L){if(!r.cancel_event){return;}L=L||window.event;if(L.preventDefault){L.preventDefault();L.stopPropagation();}else{L.returnValue=false;L.cancelBubble=true;}}function C(){v={};i=false;I=0;G=0;q=0;e=null;}var u={hold:function(L){if(r.hold){e="hold";clearTimeout(y);y=setTimeout(function(){if(e=="hold"){F("hold",{originalEvent:L,position:v.start});}},r.hold_timeout);}},swipe:function(R){if(!v.move){return;}var P=v.move[0].x-v.start[0].x;var O=v.move[0].y-v.start[0].y;G=Math.sqrt(P*P+O*O);var N=new Date().getTime();var Q=N-p;if(r.swipe&&(r.swipe_time>Q)&&(G>r.swipe_min_distance)){q=m(v.start[0],v.move[0]);H=g.getDirectionFromAngle(q);e="swipe";var M={x:v.move[0].x-J.left,y:v.move[0].y-J.top};var L={originalEvent:R,position:M,direction:H,distance:G,distanceX:P,distanceY:O,angle:q};F("swipe",L);}},drag:function(R){var P=v.move[0].x-v.start[0].x;var O=v.move[0].y-v.start[0].y;G=Math.sqrt(P*P+O*O);if(r.drag&&(G>r.drag_min_distance)||e=="drag"){q=m(v.start[0],v.move[0]);H=g.getDirectionFromAngle(q);var Q=(H=="up"||H=="down");if(((Q&&!r.drag_vertical)||(!Q&&!r.drag_horizontal))&&(G>r.drag_min_distance)){return;}var S=m(v.interim||v.start[0],v.move[0]),N=g.getDirectionFromAngle(S);v.interim=v.move[0];e="drag";var M={x:v.move[0].x-J.left,y:v.move[0].y-J.top};var L={originalEvent:R,position:M,direction:H,distance:G,distanceX:P,distanceY:O,angle:q,interim_angle:S,interim_direction:N};if(i){F("dragstart",L);i=false;}F("drag",L);B(R);}},transform:function(N){if(r.transform){if(s(N)!=2){return false;}var M=k(v.start,v.move);var O=n(v.start,v.move);if(e!="drag"&&(e=="transform"||Math.abs(1-O)>r.scale_treshold||Math.abs(M)>r.rotation_treshold)){e="transform";v.center={x:((v.move[0].x+v.move[1].x)/2)-J.left,y:((v.move[0].y+v.move[1].y)/2)-J.top};var L={originalEvent:N,position:v.center,scale:O,rotation:M};if(i){F("transformstart",L);i=false;}F("transform",L);B(N);return true;}}return false;},tap:function(P){var M=new Date().getTime();var O=M-p;if(r.hold&&!(r.hold&&r.hold_timeout>O)){return;}var N=(function(){if(z&&r.tap_double&&d=="tap"&&(p-b)<r.tap_max_interval){var S=Math.abs(z[0].x-v.start[0].x);var R=Math.abs(z[0].y-v.start[0].y);return(z&&v.start&&Math.max(S,R)<r.tap_double_distance);}return false;})();if(N){e="double_tap";b=null;F("doubletap",{originalEvent:P,position:v.start});B(P);}else{var Q=(v.move)?Math.abs(v.move[0].x-v.start[0].x):0;var L=(v.move)?Math.abs(v.move[0].y-v.start[0].y):0;G=Math.max(Q,L);if(G<r.tap_max_distance){e="tap";b=M;z=v.start;if(r.tap){F("tap",{originalEvent:P,position:v.start});B(P);}}}}};function t(M){switch(M.type){case"mousedown":case"touchstart":v.start=K(M);p=new Date().getTime();I=s(M);i=true;h=M;var L=l.getBoundingClientRect();var R=l.clientTop||document.body.clientTop||0;var Q=l.clientLeft||document.body.clientLeft||0;var O=window.pageYOffset||l.scrollTop||document.body.scrollTop;var P=window.pageXOffset||l.scrollLeft||document.body.scrollLeft;J={top:L.top+O-R,left:L.left+P-Q};a=true;u.hold(M);if(r.prevent_default){B(M);}break;case"mousemove":case"touchmove":if(!a){return false;}c=M;v.move=K(M);if(!u.transform(M)){u.drag(M);}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!a||(e!="transform"&&M.touches&&M.touches.length>0)){return false;}a=false;w=M;var N=e=="drag";u.swipe(M);if(N){F("dragend",{originalEvent:M,direction:H,distance:G,angle:q});}else{if(e=="transform"){F("transformend",{originalEvent:M,position:v.center,scale:n(v.start,v.move),rotation:k(v.start,v.move)});}else{u.tap(h);}}d=e;F("release",{originalEvent:M,gesture:e});C();break;}}if(E){f(l,"touchstart touchmove touchend touchcancel",t);}else{f(l,"mouseup mousedown mousemove",t);f(l,"mouseout",function(L){if(!D(l,L.relatedTarget)){t(L);}});}function D(L,N){if(!N&&window.event&&window.event.toElement){N=window.event.toElement;}if(L===N){return true;}if(N){var M=N.parentNode;while(M!==null){if(M===L){return true;}M=M.parentNode;}}return false;}function A(N,M){var L={};if(!M){return N;}for(var O in N){if(O in M){L[O]=M[O];}else{L[O]=N[O];}}return L;}function o(L){return Object.prototype.toString.call(L)=="[object Function]";}function f(O,N,P){N=N.split(" ");for(var M=0,L=N.length;M<L;M++){if(O.addEventListener){O.addEventListener(N[M],P,false);}else{if(document.attachEvent){O.attachEvent("on"+N[M],P);}}}}}
